
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Bloqade - the neutral atom SDK">
      
      
      
        <link rel="canonical" href="https://bloqade.quera.com/reference/squin/">
      
      
        <link rel="prev" href="../qbraid/">
      
      
        <link rel="next" href="../stim/">
      
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>squin - The Neutral Atom SDK</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Lato";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://unpkg.com/katex@0/dist/katex.min.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#bloqade.squin" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="The Neutral Atom SDK" class="md-header__button md-logo" aria-label="The Neutral Atom SDK" data-md-component="logo">
      
  <img src="../../assets/logo-dark.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            The Neutral Atom SDK
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              squin
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/QuEraComputing/bloqade" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    bloqade
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
  
    
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../digital/" class="md-tabs__link">
          
  
  
    
  
  Digital Tutorials

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://queracomputing.github.io/bloqade-analog-examples/dev/" class="md-tabs__link">
        
  
  
    
  
  Analog Tutorials

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://qbook.quera.com/" class="md-tabs__link">
        
  
  
    
  
  qBook

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://queracomputing.github.io/bloqade-analog/latest/" class="md-tabs__link">
        
  
  
    
  
  Bloqade Analog

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://queracomputing.github.io/bloqade-analog/latest/reference/overview/" class="md-tabs__link">
        
  
  
    
  
  Analog Reference

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
    
  
  API Reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../blog/" class="md-tabs__link">
          
  
  
    
  
  Blog

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://quera.com" class="md-tabs__link">
        
  
  
    
  
  QuEra Computing

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="The Neutral Atom SDK" class="md-nav__button md-logo" aria-label="The Neutral Atom SDK" data-md-component="logo">
      
  <img src="../../assets/logo-dark.svg" alt="logo">

    </a>
    The Neutral Atom SDK
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/QuEraComputing/bloqade" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    bloqade
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../.." class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../background/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Background
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../manifesto/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manifesto
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5" >
        
          
          <label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Quick Start
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            Quick Start
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../quick_start/circuits/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Circuits
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1_5_1" id="__nav_1_5_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5_1">
            <span class="md-nav__icon md-icon"></span>
            Circuits
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5_1_2" >
        
          
          <label class="md-nav__link" for="__nav_1_5_1_2" id="__nav_1_5_1_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_1_5_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5_1_2">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../digital/examples/qft/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quantum Fourier Transform
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../digital/examples/ghz/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GHZ State Preparation with Parallelism
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../digital/examples/pauli_exponentiation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pauli Exponentiation for Quantum Simulation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../digital/examples/repeat_until_success/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Repeat Until Success with STAR Gadget
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../digital/examples/qaoa/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    QAOA
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5_1_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../quick_start/circuits/compiler_passes/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Compiler passes
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1_5_1_3" id="__nav_1_5_1_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_1_5_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5_1_3">
            <span class="md-nav__icon md-icon"></span>
            Compiler passes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quick_start/circuits/compiler_passes/native_gate_rewrite/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Native gate rewrite
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quick_start/circuits/compiler_passes/asap_parallelism/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ASAP Parallelism
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quick_start/circuits/compiler_passes/circuit_simplification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Circuit simplification
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5_1_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../quick_start/circuits/interpreters_and_analysis/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Interpreters and analysis
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1_5_1_4" id="__nav_1_5_1_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_1_5_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5_1_4">
            <span class="md-nav__icon md-icon"></span>
            Interpreters and analysis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quick_start/circuits/interpreters_and_analysis/qasm2_codegen/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    QASM2 Codegen
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quick_start/circuits/interpreters_and_analysis/pyqrack_emulator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PyQrack emulator
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5_1_5" >
        
          
          <label class="md-nav__link" for="__nav_1_5_1_5" id="__nav_1_5_1_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Circuit dialect API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_1_5_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5_1_5">
            <span class="md-nav__icon md-icon"></span>
            Circuit dialect API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quick_start/circuits/API/qasm2_core/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    QASM2 Core
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quick_start/circuits/API/qasm2_noise/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    QASM2 Noise
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quick_start/circuits/API/qasm2_parallel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    QASM2 Parallel
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quick_start/circuits/API/qasm2_uop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    QASM2 Uop
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../quick_start/analog/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Analog
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5_2">
            <span class="md-nav__icon md-icon"></span>
            Analog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5_3" >
        
          
          <label class="md-nav__link" for="__nav_1_5_3" id="__nav_1_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Qourier
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5_3">
            <span class="md-nav__icon md-icon"></span>
            Qourier
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quick_start/qourier/index.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    None
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contrib/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../digital/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Digital Tutorials
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Digital Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../digital/dialects_and_kernels/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dialects and kernels
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Simulator Device
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Simulator Device
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../digital/simulator_device/simulator_device/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Simulation devices
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../digital/simulator_device/tasks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tasks
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Circuits
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Circuits
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../digital/examples/qft/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quantum Fourier Transform
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../digital/examples/ghz/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GHZ State Preparation with Parallelism
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../digital/examples/pauli_exponentiation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pauli Exponentiation for Quantum Simulation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../digital/examples/repeat_until_success/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Repeat Until Success with STAR Gadget
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../digital/examples/qaoa/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    QAOA
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../digital/examples/deutsch_squin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deutsch-Jozsa Algorithm
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://queracomputing.github.io/bloqade-analog-examples/dev/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Analog Tutorials
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://qbook.quera.com/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    qBook
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://queracomputing.github.io/bloqade-analog/latest/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bloqade Analog
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://queracomputing.github.io/bloqade-analog/latest/reference/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Analog Reference
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../analog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    analog
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    analysis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../device/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    device
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pyqrack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pyqrack
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../qasm2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    qasm2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../qbraid/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    qbraid
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    squin
    
  </span>
  

      </a>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    stim
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../task/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    task
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../visual/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    visual
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../blog/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_2" >
        
          
          <label class="md-nav__link" for="__nav_8_2" id="__nav_8_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Archive
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_2">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/archive/2025/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2025
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/archive/2023/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2023
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://quera.com" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    QuEra Computing
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/QuEraComputing/bloqade/edit/main/docs/reference/squin.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/QuEraComputing/bloqade/raw/main/docs/reference/squin.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<div class="doc doc-object doc-module">



<a id="bloqade.squin"></a>
    <div class="doc doc-contents first">









  <div class="doc doc-children">










<div class="doc doc-object doc-module">



<h1 id="bloqade.squin.analysis" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">analysis</span>


</h1>

    <div class="doc doc-contents ">









  <div class="doc doc-children">










<div class="doc doc-object doc-module">



<h2 id="bloqade.squin.analysis.schedule" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">schedule</span>


</h2>

    <div class="doc doc-contents ">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="bloqade.squin.analysis.schedule.StmtDag" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">StmtDag</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">StmtDag</span><span class="p">(</span>
    <span class="n">id_table</span><span class="p">:</span> <span class="n">IdTable</span><span class="p">[</span>
        <span class="n">Statement</span>
    <span class="p">]</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">idtable</span><span class="o">.</span><span class="n">IdTable</span><span class="p">()(),</span>
    <span class="n">stmts</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Statement</span><span class="p">]</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">(),</span>
    <span class="n">out_edges</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">(),</span>
    <span class="n">inc_edges</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">(),</span>
    <span class="n">stmt_index</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Statement</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">(),</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="kirin.graph.Graph">Graph</span>[<span title="kirin.ir.Statement">Statement</span>]</code></p>











  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="bloqade.squin.analysis.schedule.StmtDag.topological_groups" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">topological_groups</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">topological_groups</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Split the dag into topological groups where each group
contains nodes that have no dependencies on each other, but
have dependencies on nodes in one or more previous groups.</p>


    <p><span class="doc-section-title">Yields:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List[str]: A list of node ids in a topological group</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If a cyclic dependency is detected</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>The idea is to yield all nodes with no dependencies, then remove
those nodes from the graph repeating until no nodes are left
or we reach some upper limit. Worse case is a linear dag,
so we can use len(dag.stmts) as the upper limit</p>
<p>If we reach the limit and there are still nodes left, then we
have a cyclic dependency.</p>


            <details class="quote">
              <summary>Source code in <code>.venv/lib/python3.12/site-packages/bloqade/squin/analysis/schedule.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">topological_groups</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Split the dag into topological groups where each group</span>
<span class="sd">    contains nodes that have no dependencies on each other, but</span>
<span class="sd">    have dependencies on nodes in one or more previous groups.</span>

<span class="sd">    Yields:</span>
<span class="sd">        List[str]: A list of node ids in a topological group</span>


<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If a cyclic dependency is detected</span>


<span class="sd">    The idea is to yield all nodes with no dependencies, then remove</span>
<span class="sd">    those nodes from the graph repeating until no nodes are left</span>
<span class="sd">    or we reach some upper limit. Worse case is a linear dag,</span>
<span class="sd">    so we can use len(dag.stmts) as the upper limit</span>

<span class="sd">    If we reach the limit and there are still nodes left, then we</span>
<span class="sd">    have a cyclic dependency.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">inc_edges</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="nb">set</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">inc_edges</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>

    <span class="n">check_next</span> <span class="o">=</span> <span class="n">inc_edges</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stmts</span><span class="p">)):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">inc_edges</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">break</span>

        <span class="n">group</span> <span class="o">=</span> <span class="p">[</span><span class="n">node_id</span> <span class="k">for</span> <span class="n">node_id</span> <span class="ow">in</span> <span class="n">check_next</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">inc_edges</span><span class="p">[</span><span class="n">node_id</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span>
        <span class="k">yield</span> <span class="n">group</span>

        <span class="n">check_next</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">group</span><span class="p">:</span>
            <span class="n">inc_edges</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_edges</span><span class="p">[</span><span class="n">n</span><span class="p">]:</span>
                <span class="n">check_next</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
                <span class="n">inc_edges</span><span class="p">[</span><span class="n">m</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">inc_edges</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Cyclic dependency detected&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>


  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h1 id="bloqade.squin.cirq" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">cirq</span>


</h1>

    <div class="doc doc-contents ">









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="bloqade.squin.cirq.dump_circuit" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">dump_circuit</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">dump_circuit</span><span class="p">(</span>
    <span class="n">mt</span><span class="p">:</span> <span class="n">Method</span><span class="p">,</span>
    <span class="n">qubits</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Qid</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Converts a squin.kernel method to a cirq.Circuit object and dumps it as JSON.</p>
<p>This just runs <code>emit_circuit</code> and calls the <code>cirq.to_json</code> function to emit a JSON.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>mt</code>
            </td>
            <td>
                  <code><span title="kirin.ir.Method">Method</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The kernel method from which to construct the circuit.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Other Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>qubits</code></td>
            <td>
                  <code><span title="typing.Sequence">Sequence</span>[<span title="cirq.Qid">Qid</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of qubits to use as the qubits in the circuit. Defaults to None.
If this is None, then <code>cirq.LineQubit</code>s are inserted for every <code>squin.qubit.new</code>
statement in the order they appear inside the kernel.
<strong>Note</strong>: If a list of qubits is provided, make sure that there is a sufficient
number of qubits for the resulting circuit.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>.venv/lib/python3.12/site-packages/bloqade/squin/cirq/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">dump_circuit</span><span class="p">(</span><span class="n">mt</span><span class="p">:</span> <span class="n">ir</span><span class="o">.</span><span class="n">Method</span><span class="p">,</span> <span class="n">qubits</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">cirq</span><span class="o">.</span><span class="n">Qid</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Converts a squin.kernel method to a cirq.Circuit object and dumps it as JSON.</span>

<span class="sd">    This just runs `emit_circuit` and calls the `cirq.to_json` function to emit a JSON.</span>

<span class="sd">    Args:</span>
<span class="sd">        mt (ir.Method): The kernel method from which to construct the circuit.</span>

<span class="sd">    Keyword Args:</span>
<span class="sd">        qubits (Sequence[cirq.Qid] | None):</span>
<span class="sd">            A list of qubits to use as the qubits in the circuit. Defaults to None.</span>
<span class="sd">            If this is None, then `cirq.LineQubit`s are inserted for every `squin.qubit.new`</span>
<span class="sd">            statement in the order they appear inside the kernel.</span>
<span class="sd">            **Note**: If a list of qubits is provided, make sure that there is a sufficient</span>
<span class="sd">            number of qubits for the resulting circuit.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">circuit</span> <span class="o">=</span> <span class="n">emit_circuit</span><span class="p">(</span><span class="n">mt</span><span class="p">,</span> <span class="n">qubits</span><span class="o">=</span><span class="n">qubits</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">cirq</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">circuit</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="bloqade.squin.cirq.emit_circuit" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">emit_circuit</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">emit_circuit</span><span class="p">(</span>
    <span class="n">mt</span><span class="p">:</span> <span class="n">Method</span><span class="p">,</span> <span class="n">qubits</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Qid</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">cirq</span><span class="o">.</span><span class="n">Circuit</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Converts a squin.kernel method to a cirq.Circuit object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>mt</code>
            </td>
            <td>
                  <code><span title="kirin.ir.Method">Method</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The kernel method from which to construct the circuit.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Other Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>qubits</code></td>
            <td>
                  <code><span title="typing.Sequence">Sequence</span>[<span title="cirq.Qid">Qid</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of qubits to use as the qubits in the circuit. Defaults to None.
If this is None, then <code>cirq.LineQubit</code>s are inserted for every <code>squin.qubit.new</code>
statement in the order they appear inside the kernel.
<strong>Note</strong>: If a list of qubits is provided, make sure that there is a sufficient
number of qubits for the resulting circuit.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <h4 id="bloqade.squin.cirq.emit_circuit--examples">Examples:</h4>
<p>Here's a very basic example:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">bloqade</span><span class="w"> </span><span class="kn">import</span> <span class="n">squin</span>

<span class="nd">@squin</span><span class="o">.</span><span class="n">kernel</span>
<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">squin</span><span class="o">.</span><span class="n">qubit</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">squin</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">h</span><span class="p">()</span>
    <span class="n">squin</span><span class="o">.</span><span class="n">qubit</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">cx</span> <span class="o">=</span> <span class="n">squin</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">cx</span><span class="p">()</span>
    <span class="n">squin</span><span class="o">.</span><span class="n">qubit</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">cx</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span>

<span class="n">circuit</span> <span class="o">=</span> <span class="n">squin</span><span class="o">.</span><span class="n">cirq</span><span class="o">.</span><span class="n">emit_circuit</span><span class="p">(</span><span class="n">main</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">circuit</span><span class="p">)</span>
</code></pre></div>
<p>You can also compose multiple kernels. Those are emitted as subcircuits within the "main" circuit.
Subkernels can accept arguments and return a value.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">bloqade</span><span class="w"> </span><span class="kn">import</span> <span class="n">squin</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">kirin.dialects</span><span class="w"> </span><span class="kn">import</span> <span class="n">ilist</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Literal</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">cirq</span>

<span class="nd">@squin</span><span class="o">.</span><span class="n">kernel</span>
<span class="k">def</span><span class="w"> </span><span class="nf">entangle</span><span class="p">(</span><span class="n">q</span><span class="p">:</span> <span class="n">ilist</span><span class="o">.</span><span class="n">IList</span><span class="p">[</span><span class="n">squin</span><span class="o">.</span><span class="n">qubit</span><span class="o">.</span><span class="n">Qubit</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="mi">2</span><span class="p">]]):</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">squin</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">h</span><span class="p">()</span>
    <span class="n">squin</span><span class="o">.</span><span class="n">qubit</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">cx</span> <span class="o">=</span> <span class="n">squin</span><span class="o">.</span><span class="n">op</span><span class="o">.</span><span class="n">cx</span><span class="p">()</span>
    <span class="n">squin</span><span class="o">.</span><span class="n">qubit</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">cx</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">cx</span>

<span class="nd">@squin</span><span class="o">.</span><span class="n">kernel</span>
<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">squin</span><span class="o">.</span><span class="n">qubit</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">cx</span> <span class="o">=</span> <span class="n">entangle</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
    <span class="n">q2</span> <span class="o">=</span> <span class="n">squin</span><span class="o">.</span><span class="n">qubit</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">squin</span><span class="o">.</span><span class="n">qubit</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">cx</span><span class="p">,</span> <span class="p">[</span><span class="n">q</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">q2</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span>


<span class="c1"># custom list of qubits on grid</span>
<span class="n">qubits</span> <span class="o">=</span> <span class="p">[</span><span class="n">cirq</span><span class="o">.</span><span class="n">GridQubit</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>

<span class="n">circuit</span> <span class="o">=</span> <span class="n">squin</span><span class="o">.</span><span class="n">cirq</span><span class="o">.</span><span class="n">emit_circuit</span><span class="p">(</span><span class="n">main</span><span class="p">,</span> <span class="n">qubits</span><span class="o">=</span><span class="n">qubits</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">circuit</span><span class="p">)</span>
</code></pre></div>
<p>We also passed in a custom list of qubits above. This allows you to provide a custom geometry
and manipulate the qubits in other circuits directly written in cirq as well.</p>


            <details class="quote">
              <summary>Source code in <code>.venv/lib/python3.12/site-packages/bloqade/squin/cirq/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">emit_circuit</span><span class="p">(</span>
    <span class="n">mt</span><span class="p">:</span> <span class="n">ir</span><span class="o">.</span><span class="n">Method</span><span class="p">,</span>
    <span class="n">qubits</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">cirq</span><span class="o">.</span><span class="n">Qid</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">cirq</span><span class="o">.</span><span class="n">Circuit</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Converts a squin.kernel method to a cirq.Circuit object.</span>

<span class="sd">    Args:</span>
<span class="sd">        mt (ir.Method): The kernel method from which to construct the circuit.</span>

<span class="sd">    Keyword Args:</span>
<span class="sd">        qubits (Sequence[cirq.Qid] | None):</span>
<span class="sd">            A list of qubits to use as the qubits in the circuit. Defaults to None.</span>
<span class="sd">            If this is None, then `cirq.LineQubit`s are inserted for every `squin.qubit.new`</span>
<span class="sd">            statement in the order they appear inside the kernel.</span>
<span class="sd">            **Note**: If a list of qubits is provided, make sure that there is a sufficient</span>
<span class="sd">            number of qubits for the resulting circuit.</span>

<span class="sd">    ## Examples:</span>

<span class="sd">    Here&#39;s a very basic example:</span>

<span class="sd">    ```python</span>
<span class="sd">    from bloqade import squin</span>

<span class="sd">    @squin.kernel</span>
<span class="sd">    def main():</span>
<span class="sd">        q = squin.qubit.new(2)</span>
<span class="sd">        h = squin.op.h()</span>
<span class="sd">        squin.qubit.apply(h, q[0])</span>
<span class="sd">        cx = squin.op.cx()</span>
<span class="sd">        squin.qubit.apply(cx, q)</span>

<span class="sd">    circuit = squin.cirq.emit_circuit(main)</span>

<span class="sd">    print(circuit)</span>
<span class="sd">    ```</span>

<span class="sd">    You can also compose multiple kernels. Those are emitted as subcircuits within the &quot;main&quot; circuit.</span>
<span class="sd">    Subkernels can accept arguments and return a value.</span>

<span class="sd">    ```python</span>
<span class="sd">    from bloqade import squin</span>
<span class="sd">    from kirin.dialects import ilist</span>
<span class="sd">    from typing import Literal</span>
<span class="sd">    import cirq</span>

<span class="sd">    @squin.kernel</span>
<span class="sd">    def entangle(q: ilist.IList[squin.qubit.Qubit, Literal[2]]):</span>
<span class="sd">        h = squin.op.h()</span>
<span class="sd">        squin.qubit.apply(h, q[0])</span>
<span class="sd">        cx = squin.op.cx()</span>
<span class="sd">        squin.qubit.apply(cx, q)</span>
<span class="sd">        return cx</span>

<span class="sd">    @squin.kernel</span>
<span class="sd">    def main():</span>
<span class="sd">        q = squin.qubit.new(2)</span>
<span class="sd">        cx = entangle(q)</span>
<span class="sd">        q2 = squin.qubit.new(3)</span>
<span class="sd">        squin.qubit.apply(cx, [q[1], q2[2]])</span>


<span class="sd">    # custom list of qubits on grid</span>
<span class="sd">    qubits = [cirq.GridQubit(i, i+1) for i in range(5)]</span>

<span class="sd">    circuit = squin.cirq.emit_circuit(main, qubits=qubits)</span>
<span class="sd">    print(circuit)</span>

<span class="sd">    ```</span>

<span class="sd">    We also passed in a custom list of qubits above. This allows you to provide a custom geometry</span>
<span class="sd">    and manipulate the qubits in other circuits directly written in cirq as well.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">mt</span><span class="o">.</span><span class="n">code</span><span class="p">,</span> <span class="n">func</span><span class="o">.</span><span class="n">Function</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">mt</span><span class="o">.</span><span class="n">code</span><span class="o">.</span><span class="n">signature</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">is_subseteq</span><span class="p">(</span>
        <span class="n">types</span><span class="o">.</span><span class="n">NoneType</span>
    <span class="p">):</span>
        <span class="k">raise</span> <span class="n">EmitError</span><span class="p">(</span>
            <span class="s2">&quot;The method you are trying to convert to a circuit has a return value, but returning from a circuit is not supported.&quot;</span>
        <span class="p">)</span>

    <span class="n">emitter</span> <span class="o">=</span> <span class="n">EmitCirq</span><span class="p">(</span><span class="n">qubits</span><span class="o">=</span><span class="n">qubits</span><span class="p">)</span>

    <span class="c1"># Rewrite noise statements</span>
    <span class="n">mt_</span> <span class="o">=</span> <span class="n">mt</span><span class="o">.</span><span class="n">similar</span><span class="p">(</span><span class="n">mt</span><span class="o">.</span><span class="n">dialects</span><span class="p">)</span>
    <span class="n">RewriteNoiseStmts</span><span class="p">(</span><span class="n">mt_</span><span class="o">.</span><span class="n">dialects</span><span class="p">)(</span><span class="n">mt_</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">emitter</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">mt_</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="bloqade.squin.cirq.load_circuit" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">load_circuit</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">load_circuit</span><span class="p">(</span>
    <span class="n">circuit</span><span class="p">:</span> <span class="n">Circuit</span><span class="p">,</span>
    <span class="n">kernel_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;main&quot;</span><span class="p">,</span>
    <span class="n">dialects</span><span class="p">:</span> <span class="n">DialectGroup</span> <span class="o">=</span> <span class="n">kernel</span><span class="p">,</span>
    <span class="n">register_as_argument</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">return_register</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">register_argument_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;q&quot;</span><span class="p">,</span>
    <span class="nb">globals</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">file</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">lineno_offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">col_offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">compactify</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Converts a cirq.Circuit object into a squin kernel.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>circuit</code>
            </td>
            <td>
                  <code><span title="cirq.Circuit">Circuit</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The circuit to load.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Other Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>kernel_name</code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the kernel to load. Defaults to "main".</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>dialects</code></td>
            <td>
                  <code><span title="kirin.ir.DialectGroup">DialectGroup</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The dialects to use. Defaults to <code>squin.kernel</code>.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>register_as_argument</code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Determine whether the resulting kernel function should accept
a single <code>ilist.IList[Qubit, Any]</code> argument that is a list of qubits used within the
function. This allows you to compose kernel functions generated from circuits.
Defaults to <code>False</code>.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>return_register</code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Determine whether the resulting kernel functionr returns a
single value of type <code>ilist.IList[Qubit, Any]</code> that is the list of qubits used
in the kernel function. Useful when you want to compose multiple kernel functions
generated from circuits. Defaults to <code>False</code>.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>register_argument_name</code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the argument that represents the qubit register.
Only used when <code>register_as_argument=True</code>. Defaults to "q".</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>globals</code></td>
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Any">Any</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The global variables to use. Defaults to None.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>file</code></td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The file name for error reporting. Defaults to None.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>lineno_offset</code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The line number offset for error reporting. Defaults to 0.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>col_offset</code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column number offset for error reporting. Defaults to 0.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>compactify</code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to compactify the output. Defaults to True.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <h4 id="bloqade.squin.cirq.load_circuit--usage-examples">Usage Examples:</h4>
<div class="highlight"><pre><span></span><code><span class="c1"># from cirq&#39;s &quot;hello qubit&quot; example</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">cirq</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">bloqade</span><span class="w"> </span><span class="kn">import</span> <span class="n">squin</span>

<span class="c1"># Pick a qubit.</span>
<span class="n">qubit</span> <span class="o">=</span> <span class="n">cirq</span><span class="o">.</span><span class="n">GridQubit</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

<span class="c1"># Create a circuit.</span>
<span class="n">circuit</span> <span class="o">=</span> <span class="n">cirq</span><span class="o">.</span><span class="n">Circuit</span><span class="p">(</span>
    <span class="n">cirq</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="n">qubit</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span><span class="p">,</span>  <span class="c1"># Square root of NOT.</span>
    <span class="n">cirq</span><span class="o">.</span><span class="n">measure</span><span class="p">(</span><span class="n">qubit</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;m&#39;</span><span class="p">)</span>  <span class="c1"># Measurement.</span>
<span class="p">)</span>

<span class="c1"># load the circuit as squin</span>
<span class="n">main</span> <span class="o">=</span> <span class="n">squin</span><span class="o">.</span><span class="n">load_circuit</span><span class="p">(</span><span class="n">circuit</span><span class="p">)</span>

<span class="c1"># print the resulting IR</span>
<span class="n">main</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>
</code></pre></div>
<p>You can also compose kernel functions generated from circuits by passing in
and / or returning the respective quantum registers:</p>
<div class="highlight"><pre><span></span><code><span class="n">q</span> <span class="o">=</span> <span class="n">cirq</span><span class="o">.</span><span class="n">LineQubit</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">circuit</span> <span class="o">=</span> <span class="n">cirq</span><span class="o">.</span><span class="n">Circuit</span><span class="p">(</span><span class="n">cirq</span><span class="o">.</span><span class="n">H</span><span class="p">(</span><span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">cirq</span><span class="o">.</span><span class="n">CX</span><span class="p">(</span><span class="o">*</span><span class="n">q</span><span class="p">))</span>

<span class="n">get_entangled_qubits</span> <span class="o">=</span> <span class="n">squin</span><span class="o">.</span><span class="n">cirq</span><span class="o">.</span><span class="n">load_circuit</span><span class="p">(</span>
    <span class="n">circuit</span><span class="p">,</span> <span class="n">return_register</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">kernel_name</span><span class="o">=</span><span class="s2">&quot;get_entangled_qubits&quot;</span>
<span class="p">)</span>
<span class="n">get_entangled_qubits</span><span class="o">.</span><span class="n">print</span><span class="p">()</span>

<span class="n">entangle_qubits</span> <span class="o">=</span> <span class="n">squin</span><span class="o">.</span><span class="n">cirq</span><span class="o">.</span><span class="n">load_circuit</span><span class="p">(</span>
    <span class="n">circuit</span><span class="p">,</span> <span class="n">register_as_argument</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">kernel_name</span><span class="o">=</span><span class="s2">&quot;entangle_qubits&quot;</span>
<span class="p">)</span>

<span class="nd">@squin</span><span class="o">.</span><span class="n">kernel</span>
<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="n">qreg</span> <span class="o">=</span> <span class="n">get_entangled_qubits</span><span class="p">()</span>
    <span class="n">qreg2</span> <span class="o">=</span> <span class="n">squin</span><span class="o">.</span><span class="n">qubit</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">entangle_qubits</span><span class="p">([</span><span class="n">qreg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">qreg2</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
    <span class="k">return</span> <span class="n">squin</span><span class="o">.</span><span class="n">qubit</span><span class="o">.</span><span class="n">measure</span><span class="p">(</span><span class="n">qreg2</span><span class="p">)</span>
</code></pre></div>


            <details class="quote">
              <summary>Source code in <code>.venv/lib/python3.12/site-packages/bloqade/squin/cirq/__init__.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">load_circuit</span><span class="p">(</span>
    <span class="n">circuit</span><span class="p">:</span> <span class="n">cirq</span><span class="o">.</span><span class="n">Circuit</span><span class="p">,</span>
    <span class="n">kernel_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;main&quot;</span><span class="p">,</span>
    <span class="n">dialects</span><span class="p">:</span> <span class="n">ir</span><span class="o">.</span><span class="n">DialectGroup</span> <span class="o">=</span> <span class="n">kernel</span><span class="p">,</span>
    <span class="n">register_as_argument</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">return_register</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">register_argument_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;q&quot;</span><span class="p">,</span>
    <span class="nb">globals</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">file</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">lineno_offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">col_offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">compactify</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Converts a cirq.Circuit object into a squin kernel.</span>

<span class="sd">    Args:</span>
<span class="sd">        circuit (cirq.Circuit): The circuit to load.</span>

<span class="sd">    Keyword Args:</span>
<span class="sd">        kernel_name (str): The name of the kernel to load. Defaults to &quot;main&quot;.</span>
<span class="sd">        dialects (ir.DialectGroup | None): The dialects to use. Defaults to `squin.kernel`.</span>
<span class="sd">        register_as_argument (bool): Determine whether the resulting kernel function should accept</span>
<span class="sd">            a single `ilist.IList[Qubit, Any]` argument that is a list of qubits used within the</span>
<span class="sd">            function. This allows you to compose kernel functions generated from circuits.</span>
<span class="sd">            Defaults to `False`.</span>
<span class="sd">        return_register (bool): Determine whether the resulting kernel functionr returns a</span>
<span class="sd">            single value of type `ilist.IList[Qubit, Any]` that is the list of qubits used</span>
<span class="sd">            in the kernel function. Useful when you want to compose multiple kernel functions</span>
<span class="sd">            generated from circuits. Defaults to `False`.</span>
<span class="sd">        register_argument_name (str): The name of the argument that represents the qubit register.</span>
<span class="sd">            Only used when `register_as_argument=True`. Defaults to &quot;q&quot;.</span>
<span class="sd">        globals (dict[str, Any] | None): The global variables to use. Defaults to None.</span>
<span class="sd">        file (str | None): The file name for error reporting. Defaults to None.</span>
<span class="sd">        lineno_offset (int): The line number offset for error reporting. Defaults to 0.</span>
<span class="sd">        col_offset (int): The column number offset for error reporting. Defaults to 0.</span>
<span class="sd">        compactify (bool): Whether to compactify the output. Defaults to True.</span>

<span class="sd">    ## Usage Examples:</span>

<span class="sd">    ```python</span>
<span class="sd">    # from cirq&#39;s &quot;hello qubit&quot; example</span>
<span class="sd">    import cirq</span>
<span class="sd">    from bloqade import squin</span>

<span class="sd">    # Pick a qubit.</span>
<span class="sd">    qubit = cirq.GridQubit(0, 0)</span>

<span class="sd">    # Create a circuit.</span>
<span class="sd">    circuit = cirq.Circuit(</span>
<span class="sd">        cirq.X(qubit)**0.5,  # Square root of NOT.</span>
<span class="sd">        cirq.measure(qubit, key=&#39;m&#39;)  # Measurement.</span>
<span class="sd">    )</span>

<span class="sd">    # load the circuit as squin</span>
<span class="sd">    main = squin.load_circuit(circuit)</span>

<span class="sd">    # print the resulting IR</span>
<span class="sd">    main.print()</span>
<span class="sd">    ```</span>

<span class="sd">    You can also compose kernel functions generated from circuits by passing in</span>
<span class="sd">    and / or returning the respective quantum registers:</span>

<span class="sd">    ```python</span>
<span class="sd">    q = cirq.LineQubit.range(2)</span>
<span class="sd">    circuit = cirq.Circuit(cirq.H(q[0]), cirq.CX(*q))</span>

<span class="sd">    get_entangled_qubits = squin.cirq.load_circuit(</span>
<span class="sd">        circuit, return_register=True, kernel_name=&quot;get_entangled_qubits&quot;</span>
<span class="sd">    )</span>
<span class="sd">    get_entangled_qubits.print()</span>

<span class="sd">    entangle_qubits = squin.cirq.load_circuit(</span>
<span class="sd">        circuit, register_as_argument=True, kernel_name=&quot;entangle_qubits&quot;</span>
<span class="sd">    )</span>

<span class="sd">    @squin.kernel</span>
<span class="sd">    def main():</span>
<span class="sd">        qreg = get_entangled_qubits()</span>
<span class="sd">        qreg2 = squin.qubit.new(1)</span>
<span class="sd">        entangle_qubits([qreg[1], qreg2[0]])</span>
<span class="sd">        return squin.qubit.measure(qreg2)</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">target</span> <span class="o">=</span> <span class="n">Squin</span><span class="p">(</span><span class="n">dialects</span><span class="o">=</span><span class="n">dialects</span><span class="p">,</span> <span class="n">circuit</span><span class="o">=</span><span class="n">circuit</span><span class="p">)</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">target</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
        <span class="n">circuit</span><span class="p">,</span>
        <span class="n">source</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">circuit</span><span class="p">),</span>  <span class="c1"># TODO: proper source string</span>
        <span class="n">file</span><span class="o">=</span><span class="n">file</span><span class="p">,</span>
        <span class="nb">globals</span><span class="o">=</span><span class="nb">globals</span><span class="p">,</span>
        <span class="n">lineno_offset</span><span class="o">=</span><span class="n">lineno_offset</span><span class="p">,</span>
        <span class="n">col_offset</span><span class="o">=</span><span class="n">col_offset</span><span class="p">,</span>
        <span class="n">compactify</span><span class="o">=</span><span class="n">compactify</span><span class="p">,</span>
        <span class="n">register_as_argument</span><span class="o">=</span><span class="n">register_as_argument</span><span class="p">,</span>
        <span class="n">register_argument_name</span><span class="o">=</span><span class="n">register_argument_name</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">return_register</span><span class="p">:</span>
        <span class="n">return_value</span> <span class="o">=</span> <span class="n">target</span><span class="o">.</span><span class="n">qreg</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">return_value</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="n">ConstantNone</span><span class="p">()</span>
        <span class="n">body</span><span class="o">.</span><span class="n">blocks</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">stmts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">return_value</span><span class="p">)</span>

    <span class="n">return_node</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="n">Return</span><span class="p">(</span><span class="n">value_or_stmt</span><span class="o">=</span><span class="n">return_value</span><span class="p">)</span>
    <span class="n">body</span><span class="o">.</span><span class="n">blocks</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">stmts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">return_node</span><span class="p">)</span>

    <span class="n">self_arg_name</span> <span class="o">=</span> <span class="n">kernel_name</span> <span class="o">+</span> <span class="s2">&quot;_self&quot;</span>
    <span class="n">arg_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">self_arg_name</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">register_as_argument</span><span class="p">:</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="n">target</span><span class="o">.</span><span class="n">qreg</span><span class="o">.</span><span class="n">type</span><span class="p">,)</span>
        <span class="n">arg_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">register_argument_name</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">()</span>

    <span class="c1"># NOTE: add _self as argument; need to know signature before so do it after lowering</span>
    <span class="n">signature</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="n">Signature</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">return_node</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
    <span class="n">body</span><span class="o">.</span><span class="n">blocks</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">insert_from</span><span class="p">(</span>
        <span class="mi">0</span><span class="p">,</span>
        <span class="n">types</span><span class="o">.</span><span class="n">Generic</span><span class="p">(</span><span class="n">ir</span><span class="o">.</span><span class="n">Method</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">Tuple</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">signature</span><span class="o">.</span><span class="n">inputs</span><span class="p">),</span> <span class="n">signature</span><span class="o">.</span><span class="n">output</span><span class="p">),</span>
        <span class="n">self_arg_name</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">code</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="n">Function</span><span class="p">(</span>
        <span class="n">sym_name</span><span class="o">=</span><span class="n">kernel_name</span><span class="p">,</span>
        <span class="n">signature</span><span class="o">=</span><span class="n">signature</span><span class="p">,</span>
        <span class="n">body</span><span class="o">=</span><span class="n">body</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">ir</span><span class="o">.</span><span class="n">Method</span><span class="p">(</span>
        <span class="n">mod</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">py_func</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">sym_name</span><span class="o">=</span><span class="n">kernel_name</span><span class="p">,</span>
        <span class="n">arg_names</span><span class="o">=</span><span class="n">arg_names</span><span class="p">,</span>
        <span class="n">dialects</span><span class="o">=</span><span class="n">dialects</span><span class="p">,</span>
        <span class="n">code</span><span class="o">=</span><span class="n">code</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>


<div class="doc doc-object doc-module">



<h2 id="bloqade.squin.cirq.lowering" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">lowering</span>


</h2>

    <div class="doc doc-contents ">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="bloqade.squin.cirq.lowering.Squin" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Squin</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">Squin</span><span class="p">(</span><span class="n">circuit</span><span class="p">:</span> <span class="n">Circuit</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="kirin.lowering.LoweringABC">LoweringABC</span>[<span title="bloqade.squin.cirq.lowering.CirqNode">CirqNode</span>]</code></p>


        <p>Lower a cirq.Circuit object to a squin kernel</p>










  <div class="doc doc-children">











  </div>

    </div>

</div>




  </div>

    </div>

</div>


  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h1 id="bloqade.squin.lowering" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">lowering</span>


</h1>

    <div class="doc doc-contents ">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="bloqade.squin.lowering.ApplyAnyCallLowering" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">ApplyAnyCallLowering</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">ApplyAnyCallLowering</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="kirin.lowering.FromPythonCall">FromPythonCall</span>[&#39;qubit.ApplyAny&#39;]</code></p>


        <p>Custom lowering for ApplyAny that collects vararg qubits into a single tuple argument</p>










  <div class="doc doc-children">











  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h1 id="bloqade.squin.noise" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">noise</span>


</h1>

    <div class="doc doc-contents ">









  <div class="doc doc-children">










<div class="doc doc-object doc-module">



<h2 id="bloqade.squin.noise.rewrite" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">rewrite</span>


</h2>

    <div class="doc doc-contents ">









  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="bloqade.squin.noise.stmts" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">stmts</span>


</h2>

    <div class="doc doc-contents ">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="bloqade.squin.noise.stmts.Depolarize" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Depolarize</span>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="bloqade.squin.noise.stmts.NoiseChannel">NoiseChannel</span></code></p>


        <p>Apply depolarize error to qubit</p>










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="bloqade.squin.noise.stmts.PPError" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">PPError</span>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="bloqade.squin.noise.stmts.NoiseChannel">NoiseChannel</span></code></p>


        <p>Pauli Product Error</p>










  <div class="doc doc-children">











  </div>

    </div>

</div>




  </div>

    </div>

</div>


  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h1 id="bloqade.squin.op" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">op</span>


</h1>

    <div class="doc doc-contents ">









  <div class="doc doc-children">










<div class="doc doc-object doc-module">



<h2 id="bloqade.squin.op.rewrite" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">rewrite</span>


</h2>

    <div class="doc doc-contents ">

        <p>Rewrite py.binop.mult to Mult stmt</p>









  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="bloqade.squin.op.stdlib" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">stdlib</span>


</h2>

    <div class="doc doc-contents ">









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="bloqade.squin.op.stdlib.ch" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">ch</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">ch</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">types</span><span class="o">.</span><span class="n">Op</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Control H gate.</p>


            <details class="quote">
              <summary>Source code in <code>.venv/lib/python3.12/site-packages/bloqade/squin/op/stdlib.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@op</span>
<span class="k">def</span><span class="w"> </span><span class="nf">ch</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">types</span><span class="o">.</span><span class="n">Op</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Control H gate.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">control</span><span class="p">(</span><span class="n">h</span><span class="p">(),</span> <span class="n">n_controls</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bloqade.squin.op.stdlib.cphase" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">cphase</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">cphase</span><span class="p">(</span><span class="n">theta</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">types</span><span class="o">.</span><span class="n">Op</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Control Phase gate.</p>


            <details class="quote">
              <summary>Source code in <code>.venv/lib/python3.12/site-packages/bloqade/squin/op/stdlib.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@op</span>
<span class="k">def</span><span class="w"> </span><span class="nf">cphase</span><span class="p">(</span><span class="n">theta</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">types</span><span class="o">.</span><span class="n">Op</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Control Phase gate.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">control</span><span class="p">(</span><span class="n">phase</span><span class="p">(</span><span class="n">theta</span><span class="p">),</span> <span class="n">n_controls</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bloqade.squin.op.stdlib.cx" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">cx</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">cx</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">types</span><span class="o">.</span><span class="n">Op</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Controlled X gate.</p>


            <details class="quote">
              <summary>Source code in <code>.venv/lib/python3.12/site-packages/bloqade/squin/op/stdlib.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@op</span>
<span class="k">def</span><span class="w"> </span><span class="nf">cx</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">types</span><span class="o">.</span><span class="n">Op</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Controlled X gate.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">control</span><span class="p">(</span><span class="n">x</span><span class="p">(),</span> <span class="n">n_controls</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bloqade.squin.op.stdlib.cy" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">cy</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">cy</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">types</span><span class="o">.</span><span class="n">Op</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Controlled Y gate.</p>


            <details class="quote">
              <summary>Source code in <code>.venv/lib/python3.12/site-packages/bloqade/squin/op/stdlib.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@op</span>
<span class="k">def</span><span class="w"> </span><span class="nf">cy</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">types</span><span class="o">.</span><span class="n">Op</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Controlled Y gate.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">control</span><span class="p">(</span><span class="n">y</span><span class="p">(),</span> <span class="n">n_controls</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bloqade.squin.op.stdlib.cz" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">cz</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">cz</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">types</span><span class="o">.</span><span class="n">Op</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Control Z gate.</p>


            <details class="quote">
              <summary>Source code in <code>.venv/lib/python3.12/site-packages/bloqade/squin/op/stdlib.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@op</span>
<span class="k">def</span><span class="w"> </span><span class="nf">cz</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">types</span><span class="o">.</span><span class="n">Op</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Control Z gate.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">control</span><span class="p">(</span><span class="n">z</span><span class="p">(),</span> <span class="n">n_controls</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bloqade.squin.op.stdlib.rx" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">rx</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">rx</span><span class="p">(</span><span class="n">theta</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">types</span><span class="o">.</span><span class="n">Op</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Rotation X gate.</p>


            <details class="quote">
              <summary>Source code in <code>.venv/lib/python3.12/site-packages/bloqade/squin/op/stdlib.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@op</span>
<span class="k">def</span><span class="w"> </span><span class="nf">rx</span><span class="p">(</span><span class="n">theta</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">types</span><span class="o">.</span><span class="n">Op</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Rotation X gate.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">rot</span><span class="p">(</span><span class="n">x</span><span class="p">(),</span> <span class="n">theta</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bloqade.squin.op.stdlib.ry" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">ry</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">ry</span><span class="p">(</span><span class="n">theta</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">types</span><span class="o">.</span><span class="n">Op</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Rotation Y gate.</p>


            <details class="quote">
              <summary>Source code in <code>.venv/lib/python3.12/site-packages/bloqade/squin/op/stdlib.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@op</span>
<span class="k">def</span><span class="w"> </span><span class="nf">ry</span><span class="p">(</span><span class="n">theta</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">types</span><span class="o">.</span><span class="n">Op</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Rotation Y gate.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">rot</span><span class="p">(</span><span class="n">y</span><span class="p">(),</span> <span class="n">theta</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="bloqade.squin.op.stdlib.rz" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">rz</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">rz</span><span class="p">(</span><span class="n">theta</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">types</span><span class="o">.</span><span class="n">Op</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Rotation Z gate.</p>


            <details class="quote">
              <summary>Source code in <code>.venv/lib/python3.12/site-packages/bloqade/squin/op/stdlib.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@op</span>
<span class="k">def</span><span class="w"> </span><span class="nf">rz</span><span class="p">(</span><span class="n">theta</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">types</span><span class="o">.</span><span class="n">Op</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Rotation Z gate.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">rot</span><span class="p">(</span><span class="n">z</span><span class="p">(),</span> <span class="n">theta</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="bloqade.squin.op.stmts" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">stmts</span>


</h2>

    <div class="doc doc-contents ">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="bloqade.squin.op.stmts.P0" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">P0</span>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="bloqade.squin.op.stmts.ConstantOp">ConstantOp</span></code></p>


        <p>The <span class="arithmatex">\(P_0\)</span> projection operator.</p>
<div class="arithmatex">\[
P0 = \begin{bmatrix} 1 &amp; 0 \\ 0 &amp; 0 \end{bmatrix}
\]</div>










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="bloqade.squin.op.stmts.P1" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">P1</span>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="bloqade.squin.op.stmts.ConstantOp">ConstantOp</span></code></p>


        <p>The <span class="arithmatex">\(P_1\)</span> projection operator.</p>
<div class="arithmatex">\[
P1 = \begin{bmatrix} 0 &amp; 0 \\ 0 &amp; 1 \end{bmatrix}
\]</div>










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="bloqade.squin.op.stmts.PhaseOp" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">PhaseOp</span>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="bloqade.squin.op.stmts.PrimitiveOp">PrimitiveOp</span></code></p>


        <p>A phase operator.</p>
<div class="arithmatex">\[
PhaseOp(    heta) = e^{i    heta} I
\]</div>










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="bloqade.squin.op.stmts.Reset" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Reset</span>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="bloqade.squin.op.stmts.PrimitiveOp">PrimitiveOp</span></code></p>


        <p>Reset operator for qubits or wires.</p>










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="bloqade.squin.op.stmts.ResetToOne" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">ResetToOne</span>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="bloqade.squin.op.stmts.PrimitiveOp">PrimitiveOp</span></code></p>


        <p>Reset qubits to the one state. Mainly needed to accommodate cirq's GeneralizedAmplitudeDampingChannel</p>










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="bloqade.squin.op.stmts.ShiftOp" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">ShiftOp</span>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="bloqade.squin.op.stmts.PrimitiveOp">PrimitiveOp</span></code></p>


        <p>A phase shift operator.</p>
<div class="arithmatex">\[
Shift(      heta) = \begin{bmatrix} 1 &amp; 0 \\ 0 &amp; e^{i \theta} \end{bmatrix}
\]</div>










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="bloqade.squin.op.stmts.Sn" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Sn</span>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="bloqade.squin.op.stmts.ConstantOp">ConstantOp</span></code></p>


        <p><span class="arithmatex">\(S_{-}\)</span> operator.</p>
<div class="arithmatex">\[
Sn = \frac{1}{2} (S_x - i S_y) = \frac{1}{2} \begin{bmatrix} 0 &amp; 0 \\ 1 &amp; 0 \end{bmatrix}
\]</div>










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="bloqade.squin.op.stmts.Sp" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Sp</span>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="bloqade.squin.op.stmts.ConstantOp">ConstantOp</span></code></p>


        <p><span class="arithmatex">\(S_{+}\)</span> operator.</p>
<div class="arithmatex">\[
Sp = \frac{1}{2} (S_x + i S_y) = \frac{1}{2}\begin{bmatrix} 0 &amp; 1 \\ 0 &amp; 0 \end{bmatrix}
\]</div>










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="bloqade.squin.op.stmts.U3" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">U3</span>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="bloqade.squin.op.stmts.PrimitiveOp">PrimitiveOp</span></code></p>


        <p>The rotation operator U3(theta, phi, lam).
Note that we use the convention from the QASM2 specification, namely</p>
<div class="arithmatex">\[
U_3(        heta, \phi, \lambda) = R_z(\phi) R_y(   heta) R_z(\lambda)
\]</div>










  <div class="doc doc-children">











  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="bloqade.squin.op.traits" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">traits</span>


</h2>

    <div class="doc doc-contents ">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="bloqade.squin.op.traits.HasSites" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">HasSites</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">HasSites</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="kirin.ir.StmtTrait">StmtTrait</span></code></p>


        <p>An operator with a <code>sites</code> attribute.</p>










  <div class="doc doc-children">











  </div>

    </div>

</div>




  </div>

    </div>

</div>


  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h1 id="bloqade.squin.qubit" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">qubit</span>


</h1>

    <div class="doc doc-contents ">

        <p>qubit dialect for squin language.</p>
<p>This dialect defines the operations that can be performed on qubits.</p>
<p>Depends on:
- <code>bloqade.squin.op</code>: provides the <code>OpType</code> type and semantics for operators applied to qubits.
- <code>kirin.dialects.ilist</code>: provides the <code>ilist.IListType</code> type for lists of qubits.</p>









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="bloqade.squin.qubit.broadcast" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">broadcast</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">broadcast</span><span class="p">(</span>
    <span class="n">operator</span><span class="p">:</span> <span class="n">Op</span><span class="p">,</span> <span class="n">qubits</span><span class="p">:</span> <span class="n">IList</span><span class="p">[</span><span class="n">Qubit</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">Qubit</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Broadcast and apply an operator to a list of qubits. For example, an operator
that expects 2 qubits can be applied to a list of 2n qubits, where n is an integer &gt; 0.</p>
<p>For controlled operators, the list of qubits is interpreted as sets of (controls, targets).
For example</p>
<div class="highlight"><pre><span></span><code>apply(CX, [q0, q1, q2, q3])
</code></pre></div>
<p>is equivalent to</p>
<div class="highlight"><pre><span></span><code>apply(CX, [q0, q1])
apply(CX, [q2, q3])
</code></pre></div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>operator</code>
            </td>
            <td>
                  <code><span title="bloqade.squin.op.types.Op">Op</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The operator to broadcast and apply.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>qubits</code>
            </td>
            <td>
                  <code><span title="kirin.dialects.ilist.IList">IList</span>[<a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;Qubit&lt;/span&gt; (&lt;code&gt;bloqade.types.Qubit&lt;/code&gt;)" href="../types/#bloqade.types.Qubit">Qubit</a>, <span title="typing.Any">Any</span>] | <span title="list">list</span>[<a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;Qubit&lt;/span&gt; (&lt;code&gt;bloqade.types.Qubit&lt;/code&gt;)" href="../types/#bloqade.types.Qubit">Qubit</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The list of qubits to broadcast and apply the operator to. The size of the list
must be inferable and match the number of qubits expected by the operator.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>.venv/lib/python3.12/site-packages/bloqade/squin/qubit.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@wraps</span><span class="p">(</span><span class="n">Broadcast</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">broadcast</span><span class="p">(</span><span class="n">operator</span><span class="p">:</span> <span class="n">Op</span><span class="p">,</span> <span class="n">qubits</span><span class="p">:</span> <span class="n">ilist</span><span class="o">.</span><span class="n">IList</span><span class="p">[</span><span class="n">Qubit</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">Qubit</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Broadcast and apply an operator to a list of qubits. For example, an operator</span>
<span class="sd">    that expects 2 qubits can be applied to a list of 2n qubits, where n is an integer &gt; 0.</span>

<span class="sd">    For controlled operators, the list of qubits is interpreted as sets of (controls, targets).</span>
<span class="sd">    For example</span>

<span class="sd">    ```</span>
<span class="sd">    apply(CX, [q0, q1, q2, q3])</span>
<span class="sd">    ```</span>

<span class="sd">    is equivalent to</span>

<span class="sd">    ```</span>
<span class="sd">    apply(CX, [q0, q1])</span>
<span class="sd">    apply(CX, [q2, q3])</span>
<span class="sd">    ```</span>

<span class="sd">    Args:</span>
<span class="sd">        operator: The operator to broadcast and apply.</span>
<span class="sd">        qubits: The list of qubits to broadcast and apply the operator to. The size of the list</span>
<span class="sd">            must be inferable and match the number of qubits expected by the operator.</span>

<span class="sd">    Returns:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="bloqade.squin.qubit.measure" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">measure</span>


</h2>
          <div class="doc-overloads">
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">measure</span><span class="p">(</span><span class="nb">input</span><span class="p">:</span> <span class="n">Qubit</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MeasurementResult</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class="nf">measure</span><span class="p">(</span>
    <span class="nb">input</span><span class="p">:</span> <span class="n">IList</span><span class="p">[</span><span class="n">Qubit</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">Qubit</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ilist</span><span class="o">.</span><span class="n">IList</span><span class="p">[</span><span class="n">MeasurementResult</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
</code></pre></div>          </div>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">measure</span><span class="p">(</span><span class="nb">input</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Measure a qubit or qubits in the list.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>input</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A qubit or a list of qubits to measure.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>bool | list[bool]: The result of the measurement. If a single qubit is measured,
a single boolean is returned. If a list of qubits is measured, a list of booleans
is returned.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>.venv/lib/python3.12/site-packages/bloqade/squin/qubit.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@wraps</span><span class="p">(</span><span class="n">MeasureAny</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">measure</span><span class="p">(</span><span class="nb">input</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Measure a qubit or qubits in the list.</span>

<span class="sd">    Args:</span>
<span class="sd">        input: A qubit or a list of qubits to measure.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool | list[bool]: The result of the measurement. If a single qubit is measured,</span>
<span class="sd">            a single boolean is returned. If a list of qubits is measured, a list of booleans</span>
<span class="sd">            is returned.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="bloqade.squin.qubit.new" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">new</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">new</span><span class="p">(</span><span class="n">n_qubits</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ilist</span><span class="o">.</span><span class="n">IList</span><span class="p">[</span><span class="n">Qubit</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Create a new list of qubits.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>n_qubits(int)</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of qubits to create.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="kirin.dialects.ilist.IList">IList</span>[<a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;Qubit&lt;/span&gt; (&lt;code&gt;bloqade.types.Qubit&lt;/code&gt;)" href="../types/#bloqade.types.Qubit">Qubit</a>, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(ilist.IList[Qubit, n_qubits]) A list of qubits.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>.venv/lib/python3.12/site-packages/bloqade/squin/qubit.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@wraps</span><span class="p">(</span><span class="n">New</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">new</span><span class="p">(</span><span class="n">n_qubits</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ilist</span><span class="o">.</span><span class="n">IList</span><span class="p">[</span><span class="n">Qubit</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new list of qubits.</span>

<span class="sd">    Args:</span>
<span class="sd">        n_qubits(int): The number of qubits to create.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (ilist.IList[Qubit, n_qubits]) A list of qubits.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="o">...</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h1 id="bloqade.squin.rewrite" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">rewrite</span>


</h1>

    <div class="doc doc-contents ">









  <div class="doc doc-children">










<div class="doc doc-object doc-module">



<h2 id="bloqade.squin.rewrite.U3_to_clifford" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">U3_to_clifford</span>


</h2>

    <div class="doc doc-contents ">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="bloqade.squin.rewrite.U3_to_clifford.SquinU3ToClifford" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">SquinU3ToClifford</span>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="kirin.rewrite.abc.RewriteRule">RewriteRule</span></code></p>


        <p>Rewrite squin U3 statements to clifford when possible.</p>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="bloqade.squin.rewrite.U3_to_clifford.SquinU3ToClifford.decompose_U3_gates" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">decompose_U3_gates</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">decompose_U3_gates</span><span class="p">(</span>
    <span class="n">node</span><span class="p">:</span> <span class="n">U3</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">ir</span><span class="o">.</span><span class="n">Statement</span><span class="p">],</span> <span class="o">...</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Rewrite U3 statements to clifford gates if possible.</p>


            <details class="quote">
              <summary>Source code in <code>.venv/lib/python3.12/site-packages/bloqade/squin/rewrite/U3_to_clifford.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">decompose_U3_gates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">:</span> <span class="n">op</span><span class="o">.</span><span class="n">stmts</span><span class="o">.</span><span class="n">U3</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">ir</span><span class="o">.</span><span class="n">Statement</span><span class="p">],</span> <span class="o">...</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Rewrite U3 statements to clifford gates if possible.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">theta</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_constant</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">theta</span><span class="p">)</span>
    <span class="n">phi</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_constant</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">phi</span><span class="p">)</span>
    <span class="n">lam</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_constant</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">lam</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">theta</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">phi</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">lam</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">()</span>

    <span class="n">theta_half_pi</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolve_angle</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
    <span class="n">phi_half_pi</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolve_angle</span><span class="p">(</span><span class="n">phi</span><span class="p">)</span>
    <span class="n">lam_half_pi</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolve_angle</span><span class="p">(</span><span class="n">lam</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">theta_half_pi</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">phi_half_pi</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">lam_half_pi</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">()</span>

    <span class="n">angles_key</span> <span class="o">=</span> <span class="p">(</span><span class="n">theta_half_pi</span><span class="p">,</span> <span class="n">phi_half_pi</span><span class="p">,</span> <span class="n">lam_half_pi</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">angles_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">U3_HALF_PI_ANGLE_TO_GATES</span><span class="p">:</span>
        <span class="n">angles_key</span> <span class="o">=</span> <span class="n">equivalent_u3_para</span><span class="p">(</span><span class="o">*</span><span class="n">angles_key</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">angles_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">U3_HALF_PI_ANGLE_TO_GATES</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">()</span>

    <span class="n">gates_stmts</span> <span class="o">=</span> <span class="n">U3_HALF_PI_ANGLE_TO_GATES</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">angles_key</span><span class="p">)</span>

    <span class="c1"># no consistent gates, then:</span>
    <span class="k">assert</span> <span class="p">(</span>
        <span class="n">gates_stmts</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="p">),</span> <span class="s2">&quot;internal error, U3 gates not found for angles: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">angles_key</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">gates_stmts</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="bloqade.squin.rewrite.U3_to_clifford.SquinU3ToClifford.resolve_angle" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">resolve_angle</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">resolve_angle</span><span class="p">(</span><span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Normalize the angle to be in the range [0, 2).</p>


            <details class="quote">
              <summary>Source code in <code>.venv/lib/python3.12/site-packages/bloqade/squin/rewrite/U3_to_clifford.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">resolve_angle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Normalize the angle to be in the range [0, 2).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># convert to 0.0~1.0, in unit of pi/2</span>
    <span class="n">angle_half_pi</span> <span class="o">=</span> <span class="n">angle</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="mf">2.0</span>

    <span class="n">mod</span> <span class="o">=</span> <span class="n">angle_half_pi</span> <span class="o">%</span> <span class="mf">1.0</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">mod</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span> <span class="ow">or</span> <span class="n">np</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">mod</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)):</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">round</span><span class="p">((</span><span class="n">angle</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">tau</span><span class="p">)</span> <span class="o">%</span> <span class="mi">1</span> <span class="o">*</span> <span class="mi">4</span><span class="p">)</span> <span class="o">%</span> <span class="mi">4</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="bloqade.squin.rewrite.U3_to_clifford.SquinU3ToClifford.rewrite_ApplyOrBroadcast_onU3" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">rewrite_ApplyOrBroadcast_onU3</span>


</h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">rewrite_ApplyOrBroadcast_onU3</span><span class="p">(</span>
    <span class="n">node</span><span class="p">:</span> <span class="n">Apply</span> <span class="o">|</span> <span class="n">Broadcast</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RewriteResult</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Rewrite Apply and Broadcast nodes to their clifford equivalent statements.</p>


            <details class="quote">
              <summary>Source code in <code>.venv/lib/python3.12/site-packages/bloqade/squin/rewrite/U3_to_clifford.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">rewrite_ApplyOrBroadcast_onU3</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">:</span> <span class="n">qubit</span><span class="o">.</span><span class="n">Apply</span> <span class="o">|</span> <span class="n">qubit</span><span class="o">.</span><span class="n">Broadcast</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RewriteResult</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Rewrite Apply and Broadcast nodes to their clifford equivalent statements.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">operator</span><span class="o">.</span><span class="n">owner</span><span class="p">,</span> <span class="n">op</span><span class="o">.</span><span class="n">stmts</span><span class="o">.</span><span class="n">U3</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">RewriteResult</span><span class="p">()</span>

    <span class="n">gates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">decompose_U3_gates</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">operator</span><span class="o">.</span><span class="n">owner</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">gates</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">RewriteResult</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">stmt_list</span> <span class="ow">in</span> <span class="n">gates</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">gate_stmt</span> <span class="ow">in</span> <span class="n">stmt_list</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
            <span class="n">gate_stmt</span><span class="o">.</span><span class="n">insert_before</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

        <span class="n">oper</span> <span class="o">=</span> <span class="n">stmt_list</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">oper</span><span class="o">.</span><span class="n">insert_before</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="n">new_node</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span><span class="n">operator</span><span class="o">=</span><span class="n">oper</span><span class="o">.</span><span class="n">result</span><span class="p">,</span> <span class="n">qubits</span><span class="o">=</span><span class="n">node</span><span class="o">.</span><span class="n">qubits</span><span class="p">)</span>
        <span class="n">new_node</span><span class="o">.</span><span class="n">insert_before</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

    <span class="n">node</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>

    <span class="c1"># rewrite U3 to clifford gates</span>
    <span class="k">return</span> <span class="n">RewriteResult</span><span class="p">(</span><span class="n">has_done_something</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h3 id="bloqade.squin.rewrite.U3_to_clifford.equivalent_u3_para" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">equivalent_u3_para</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">equivalent_u3_para</span><span class="p">(</span>
    <span class="n">theta_half_pi</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">phi_half_pi</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">lam_half_pi</span><span class="p">:</span> <span class="nb">int</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <ol>
<li>Assume all three angles are in the range [0, 4].</li>
<li>U3(theta, phi, lam) = -U3(2pi-theta, phi+pi, lam+pi).</li>
</ol>


            <details class="quote">
              <summary>Source code in <code>.venv/lib/python3.12/site-packages/bloqade/squin/rewrite/U3_to_clifford.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">equivalent_u3_para</span><span class="p">(</span>
    <span class="n">theta_half_pi</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">phi_half_pi</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">lam_half_pi</span><span class="p">:</span> <span class="nb">int</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1. Assume all three angles are in the range [0, 4].</span>
<span class="sd">    2. U3(theta, phi, lam) = -U3(2pi-theta, phi+pi, lam+pi).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">((</span><span class="mi">4</span> <span class="o">-</span> <span class="n">theta_half_pi</span><span class="p">)</span> <span class="o">%</span> <span class="mi">4</span><span class="p">,</span> <span class="p">(</span><span class="n">phi_half_pi</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">4</span><span class="p">,</span> <span class="p">(</span><span class="n">lam_half_pi</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">4</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="bloqade.squin.rewrite.desugar" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">desugar</span>


</h2>

    <div class="doc doc-contents ">









  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="bloqade.squin.rewrite.desugar.ApplyDesugarRule" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">ApplyDesugarRule</span>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="kirin.rewrite.abc.RewriteRule">RewriteRule</span></code></p>


        <p>Desugar apply operators in the kernel.</p>










  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="bloqade.squin.rewrite.desugar.MeasureDesugarRule" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">MeasureDesugarRule</span>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="kirin.rewrite.abc.RewriteRule">RewriteRule</span></code></p>


        <p>Desugar measure operations in the circuit.</p>










  <div class="doc doc-children">











  </div>

    </div>

</div>




  </div>

    </div>

</div>


  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h1 id="bloqade.squin.wire" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">wire</span>


</h1>

    <div class="doc doc-contents ">

        <p>A NVIDIA QUAKE-like wire dialect.</p>
<p>This dialect is expected to be used in combination with the operator dialect
as an intermediate representation for analysis and optimization of quantum
circuits. Thus we do not define wrapping functions for the statements in this
dialect.</p>









  <div class="doc doc-children">











  </div>

    </div>

</div>


  </div>

    </div>

</div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../qbraid/" class="md-footer__link md-footer__link--prev" aria-label="Previous: qbraid">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                qbraid
              </div>
            </div>
          </a>
        
        
          
          <a href="../stim/" class="md-footer__link md-footer__link--next" aria-label="Next: stim">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                stim
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 Bloqade contributors
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://x.com/QueraComputing" target="_blank" rel="noopener" title="x.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/company/quera-computing-inc/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["announce.dismiss", "content.action.view", "content.action.edit", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "navigation.footer", "search.highlight", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
        <script src="../../javascripts/katex.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
      
    
  </body>
</html>